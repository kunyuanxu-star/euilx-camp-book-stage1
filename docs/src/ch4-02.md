# BIOS

## 本节目录

- [BIOS](#bios)
  - [本节目录](#本节目录)
  - [BIOS 简介](#bios-简介)
  - [BIOS 的作用](#bios-的作用)
  - [BIOS 的功能](#bios-的功能)
  - [BIOS 的结构](#bios-的结构)
    - [BIOS 的物理结构](#bios-的物理结构)
    - [BIOS 代码的结构](#bios-代码的结构)

## BIOS 简介

BIOS：Basic Input/Output System，基本输入输出系统

BIOS 主要兴盛于 20 世纪 70 年代到 90 年代，它是一个固件（Firmware）程序，用于管理计算机硬件设备，并提供一些基本的输入输出功能。

## BIOS 的作用

- 在计算机开机时对系统各组件进行检查
- 加载引导程序或操作系统
- 向操作系统提供系统配置信息
- 向操作系统提供硬件访问接口，向操作系统隐感硬件的变化
- 现代操作系统会忽略 BIOS 提供的抽象层并直接访问硬件

## BIOS 的功能

BIOS 中主要存放以下程序段：

1. 自诊断程序：  
   通过读取 CMOSRAM 中的内容，识别硬件配置，并对其进行自检和初始化。
2. CMOS 设置程序：  
   引导过程中，用特殊热键启动，进行设置后，存入 CMOS RAM 中。
3. 系统自检装载程序：  
   在自检成功后，将磁盘 0 磁道 0 扇区上的引导程序装入内存，让其运行以装入系统。
4. 主要 IO 设备的驱动程序和中断服务

## BIOS 的结构

### BIOS 的物理结构

BIOS 的物理结构主要体现在其存储方式上。BIOS 代码通常存储在一个只读存储器（Read-Only Memory，ROM）芯片中，这种芯片能够在计算机断电后仍然保留数据，因此，计算机每次启动时都能执行相同的 BIOS 代码。这种存储方式保证了 BIOS 的稳定性和可靠性。

### BIOS 代码的结构

BIOS 代码的结构主要指的是 BIOS 程序的组织方式。BIOS 程序通常包括以下几个部分：

1. 启动自检程序（POST）：计算机启动时首先执行的是自检程序，它负责检测计算机硬件设备是否正常，包括内存检测、显卡检测、硬盘检测等。
2. 设置程序：如果自检通过，BIOS 会执行设置程序，允许用户配置计算机的一些基本参数，如启动顺序、内存速度等。
3. 启动加载程序：设置完成后，BIOS 会根据用户设定的启动顺序，从硬盘、光驱或其他存储设备中加载引导记录（Boot Record），并将控制权转交给引导记录中的操作系统。
4. 中断服务程序：BIOS 还提供了一系列的中断服务程序（Interrupt Service Routines，ISRs），这些程序可以在操作系统运行期间被调用，用于处理硬件设备的输入输出请求。
5. CMOS 配置：BIOS 使用 CMOS（互补金属氧化物半导体）电路来存储计算机的配置信息。CMOS 是一种低功耗的静态随机存储器（SRAM），它由一个小型电池供电，即使在计算机关闭的情况下也能保持数据不丢失。
